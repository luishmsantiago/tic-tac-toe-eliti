<!DOCTYPE html>
<html lang="en">
<head>
  <title>TIC-TAC-TOE ELITI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    .titulo {
      background-color: blueviolet;
      color: gold;
      padding: 20px;
      font-family: Arial, Helvetica, sans-serif;
      text-align: center;
    }
    table {
      margin: auto;
      border-collapse: collapse;
      display: none;
      width: auto;
    }
    .tabelas {
      display: flex;
      justify-content: space-around;
    }
    td {
      background-color: blueviolet;
      color: gold;
      width: 150px;
      height: 150px;
      font-family: Arial, Helvetica, sans-serif;
      border: 2px solid gold;
      font-size: 130px;
      text-align: center;
      cursor: pointer;
    }
    td:hover {
      background-color: violet;
    }
    .container-welcome {
      display: flex;
      justify-content: space-around;
    }
    .welcome {
      text-align: center;
      font-family: Arial, Helvetica, sans-serif;
      color: blueviolet;
      border: 10px solid gold;
      padding: 20px;
      margin: 10px;
      width: 45%;
    }
    .input-container {
      text-align: center;
      margin: 20px;
    }
    .jogador-vez {
      text-align: center;
      font-family: Arial, Helvetica, sans-serif;
      color: blueviolet;
      font-size: 30px;
      display: none;
    }
    .refresh-button {
      display: block;
      margin: 20px auto;
      padding: 10px 20px;
      font-size: 20px;
      background-color: blueviolet;
      color: gold;
      border: 2px solid gold;
      cursor: pointer;
      display: none;
    }
    .refresh-button:hover {
      background-color: violet;
    }
    .numVitorias {
      text-align: center;
      font-family: Arial, Helvetica, sans-serif;
      font-size: 20px;
      padding: 10px;
      bottom: 0;
      position: fixed;
      width: 99%;
      color: gold;
      background-color: blueviolet;
      display: none;
    }
    @media (max-width: 600px) {
      td {
        height: 50px;
        font-size: 10vw;
      }
      .titulo, .jogador-vez {
        font-size: 5vw;
      }
      .refresh-button {
        font-size: 4vw;
      }
    }
  </style>
</head>
<body>
  <h1 class="titulo" id="head-titulo">TIC-TAC-TOE ELITI</h1>
  <br><br>
  <div class="jogador-vez" id="header-info">
    <h2>Jogador da vez: <span id="current-player"></span></h2>
  </div>
  <div class="container-welcome">
    <div class="welcome" id="welcome-game1">
      <h2>Bem-vindo ao TIC-TAC-TOE ELITI (Jogo 1)</h2>
      <h3>Insira o nome dos jogadores para iniciar</h3>
      <div class="input-container">
        <label for="player1">Jogador 1 (X):</label>
        <input type="text" id="player1"><br><br>
        <label for="player2">Jogador 2 (O):</label>
        <input type="text" id="player2"><br><br>
        <button class="startButton" onclick="startGame(1)">Iniciar Jogo 1</button>
      </div>
    </div>
    <div class="welcome" id="welcome-game2">
      <h2>Bem-vindo ao TIC-TAC-TOE ELITI (Jogo 2)</h2>
      <h3>Insira o nome dos jogadores para iniciar</h3>
      <div class="input-container">
        <label for="player1-2">Jogador 1 (X):</label>
        <input type="text" id="player1-2"><br><br>
        <label for="player2-2">Jogador 2 (O):</label>
        <input type="text" id="player2-2"><br><br>
        <button class="startButton" onclick="startGame(2)">Iniciar Jogo 2</button>
      </div>
    </div>
  </div>
  <div class="tabelas">
    <table id="game1-table">
      <tr><td onclick="makeMove(1, this)"></td><td onclick="makeMove(1, this)"></td><td onclick="makeMove(1, this)"></td></tr>
      <tr><td onclick="makeMove(1, this)"></td><td onclick="makeMove(1, this)"></td><td onclick="makeMove(1, this)"></td></tr>
      <tr><td onclick="makeMove(1, this)"></td><td onclick="makeMove(1, this)"></td><td onclick="makeMove(1, this)"></td></tr>
    </table>
    <table id="game2-table">
      <tr><td onclick="makeMove(2, this)"></td><td onclick="makeMove(2, this)"></td><td onclick="makeMove(2, this)"></td></tr>
      <tr><td onclick="makeMove(2, this)"></td><td onclick="makeMove(2, this)"></td><td onclick="makeMove(2, this)"></td></tr>
      <tr><td onclick="makeMove(2, this)"></td><td onclick="makeMove(2, this)"></td><td onclick="makeMove(2, this)"></td></tr>
    </table>
  </div>
  <button class="refresh-button" onclick="location.reload()">Alterar Jogadores</button>
  <div class="numVitorias" id="numVict">
    <span id="player1-victories">Vit贸rias de (Jogo 1): 0 | Vit贸rias de (Jogo 2): 0</span>
    <span id="num-empates">Empates (Total): 0</span>
  </div>
  <script>
    let games = {
      1: { player1: '', player2: '', currentPlayer: 'X', numVictP1: 0, numVictP2: 0, numEmpates: 0 },
      2: { player1: '', player2: '', currentPlayer: 'X', numVictP1: 0, numVictP2: 0, numEmpates: 0 }
    };

    function startGame(gameNumber) {
      const player1Input = document.getElementById(gameNumber === 1 ? 'player1' : 'player1-2').value;
      const player2Input = document.getElementById(gameNumber === 1 ? 'player2' : 'player2-2').value;
      if (player1Input && player2Input) {
        games[gameNumber].player1 = player1Input;
        games[gameNumber].player2 = player2Input;
        document.getElementById(`game${gameNumber}-table`).style.display = 'table';
        document.getElementById(`welcome-game${gameNumber}`).style.display = 'none';
        document.getElementById("numVict").style.display = 'flex';
        document.querySelector('.refresh-button').style.display = 'block';
        document.querySelector('.jogador-vez').style.display = 'block';
        updateVictoryLabels();
      } else {
        alert('Por favor, insira os nomes dos dois jogadores.');
      }
    }

    function makeMove(gameNumber, cell) {
      const game = games[gameNumber];
      if (cell.textContent === '') {
        cell.textContent = game.currentPlayer;
        if (checkWin(gameNumber)) {
          alert(`Jogador ${game.currentPlayer === 'X' ? game.player1 : game.player2} venceu o jogo ${gameNumber}!`);
          if (game.currentPlayer === 'X') game.numVictP1++; else game.numVictP2++;
          checkWinSet(gameNumber);
          resetGame(gameNumber);
        } else if (checkDraw(gameNumber)) {
          alert(`O jogo ${gameNumber} empatou!`);
          game.numEmpates++;
          resetGame(gameNumber);
        } else {
          game.currentPlayer = game.currentPlayer === 'X' ? 'O' : 'X';
          updateHeader(gameNumber);
        }
      }
    }

    function updateVictoryLabels() {
      document.getElementById('player1-victories').textContent = `Vit贸rias de ${games[1].player1} (Jogo 1): ${games[1].numVictP1} | Vit贸rias de ${games[2].player1} (Jogo 2): ${games[2].numVictP1}`;
      document.getElementById('num-empates').textContent = `Empates (Total): ${games[1].numEmpates + games[2].numEmpates}`;
    }

    function updateHeader(gameNumber) {
      const game = games[gameNumber];
      document.getElementById("header-info").style.display = 'block';
      document.getElementById("current-player").textContent = 
        `${game.currentPlayer === 'X' ? game.player1 : game.player2} (${game.currentPlayer})`;
    }

    function resetGame(gameNumber) {
      const cells = document.querySelectorAll(`#game${gameNumber}-table td`);
      cells.forEach(cell => cell.textContent = '');
      games[gameNumber].currentPlayer = 'X';
      updateVictoryLabels();
      updateHeader(gameNumber);
    }

    function checkWinSet(gameNumber) {
      const game = games[gameNumber];
      if (game.numVictP1 >= 3) {
        alert(`${game.player1} venceu o conjunto de jogos do Jogo ${gameNumber}!`);
        resetGame(gameNumber);
      } else if (game.numVictP2 >= 3) {
        alert(`${game.player2} venceu o conjunto de jogos do Jogo ${gameNumber}!`);
        resetGame(gameNumber);
      }
    }

    function checkWin(gameNumber) {
      const cells = Array.from(document.querySelectorAll(`#game${gameNumber}-table td`));
      const combos = [
        [0, 1, 2], [3, 4, 5], [6, 7, 8], // linhas
        [0, 3, 6], [1, 4, 7], [2, 5, 8], // colunas
        [0, 4, 8], [2, 4, 6]             // diagonais
      ];
      return combos.some(combo =>
        combo.every(index => cells[index].textContent === games[gameNumber].currentPlayer)
      );
    }

    function checkDraw(gameNumber) {
      const cells = Array.from(document.querySelectorAll(`#game${gameNumber}-table td`));
      return cells.every(cell => cell.textContent !== '');
    }
  </script>
</body>
</html>

